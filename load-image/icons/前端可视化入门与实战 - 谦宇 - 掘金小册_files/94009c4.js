(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1131:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));n(23),n(10),n(55),n(59),n(19);var r=n(5),o=n(147),c=n(16),l=n(1),d=n(209);function f(e,t){return v.apply(this,arguments)}function v(){return(v=Object(r.a)(regeneratorRuntime.mark((function e(t,l){var f,v,x,F;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.e(21).then(n.t.bind(null,1271,7));case 3:return f=e.sent,v=f.default,e.next=7,m();case 7:return x=e.sent,F=function(e){return new Promise((function(n,r){try{var o=new v({userId:t,appId:c.e,imageConfig:{serviceId:"k3u1fbpfcp"}}),l=o.addFile({file:e,stsToken:x,type:"image"});o.on("complete",(function(e){n(e.uploadResult)})),o.on("error",(function(e){console.log(e.extra,"bytedUploader Error"),r(e.extra)})),o.start(l)}catch(e){r(e)}}))},e.next=11,Promise.all(l.map(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,c,l,f,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t);case 2:return n=e.sent,r=n.ImageHeight,c=n.ImageWidth,l=n.Uri,e.next=8,h(l);case 8:return f=e.sent,e.next=11,Object(o.imageSourceExtra)(f.data.main_url).then((function(e){return d.c.transform(e,{format:"image"})})).catch((function(){return console.warn("imageSourceExtra fail"),f.data.main_url}));case 11:return v=e.sent,e.abrupt("return",{ImageHeight:r,ImageWidth:c,Uri:l,Url:v});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(0),new Error("上传图片失败");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function m(){return Object(l.d)({url:"/imagex/gen_token",query:{client:"web"}}).then((function(e){return e.data.token}))}function h(e){return Object(l.d)({url:"/imagex/get_img_url",query:{uri:e}})}},1133:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return d}));var r=["jpg","jpeg","png","gif","webp"],o=5242880,c=9,l=1e3,d=["jpg","png","gif"]},1134:function(e,t,n){},1135:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return d}));n(80),n(85),n(71),n(562),n(54),n(10),n(46),n(586),n(563),n(564),n(565),n(566),n(567),n(568),n(569),n(570),n(571),n(572),n(573),n(574),n(575),n(576),n(577),n(578),n(579),n(580),n(581),n(582),n(583),n(584),n(585);var r=[{name:"jpg",regx:/^ffd8ff/},{name:"gif",regx:/^474946/},{name:"png",regx:/89504e47/},{name:"webp",regx:/57454250/},{name:"bmp",regx:/^424d/},{name:"any",regx:/./}];function o(e,t){return function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(e){return t(e.target.result)},r.onerror=function(e){return n(e)},r.readAsArrayBuffer(e.slice(0,64))}))}(e).then(c).then(l.bind(null,t))}function c(e){return Array.prototype.slice.call(new Uint8Array(e)).reduce((function(e,data){return e+data.toString(16)}),"")}function l(e,header){for(var i=0;i<r.length;i++)if(r[i].regx.test(header))return-1!==e.indexOf(r[i].name);return!1}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readAsText";return new Promise((function(n,r){var o=new FileReader;o.onerror=function(e){r(e)},o.onload=function(){n(o.result)},o[t](e)}))}},1139:function(e,t,n){"use strict";var r=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"carousel-loading"},[t("div",{staticClass:"content"},[t("div",{staticClass:"section a"},[t("img",{attrs:{src:n(1207)}})]),this._v(" "),t("div",{staticClass:"section b"},[t("img",{attrs:{src:n(1208)}})]),this._v(" "),t("div",{staticClass:"section c"},[t("img",{attrs:{src:n(1209)}})])])])}],o=(n(1210),n(29)),component=Object(o.a)({},(function(){var e=this.$createElement;this._self._c;return this._m(0)}),r,!1,null,"5212cd74",null);t.a=component.exports},1140:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(10),n(46);function r(){return"_"+Math.random().toString(36).substr(2,9)+Date.now().toString(36)}},1143:function(e,t,n){"use strict";n(207),n(244),n(60),n(44),n(79),n(68),n(64);var r=n(1140),o=n(120),c={components:{CarouselLoading:n(1139).a},props:{list:{type:Array,default:function(){return[]}},currentIndex:{type:Number,default:0}},data:function(){return{activeIndex:this.currentIndex,activeId:"",galleryData:[],renderingList:[],isZoomed:!1}},computed:{prevButtonVisible:function(){return this.activeIndex>0},nextButtonVisible:function(){return this.activeIndex<this.galleryData.length-1},slideClass:function(){var e=this.activeId,t=this.renderingList.find((function(t){return t.id===e}));return t.isLoaded?{zoomable:t.isLong,zoomed:this.isZoomed}:{}},renderingListIndex:function(){var e=this.activeId;return this.renderingList.findIndex((function(t){return t.id===e}))}},watch:{activeIndex:function(e){var t=this.galleryData[e].id;this.activeId=t,this.updateRenderingList(t)}},methods:{getPriviewUrl:function(e){return this.$imgUrlTransform(e)},setBodyScroll:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],body=document.querySelector("body");body.style.overflow=e?null:"hidden"},initGallery:function(){var e;this.setBodyScroll(!1),this.galleryData=this.normalizeGalleryData(this.list);var t=null===(e=this.galleryData[this.activeIndex])||void 0===e?void 0:e.id;this.activeId=t,this.updateRenderingList(t),document.addEventListener("keydown",this.keydownHandler)},loaded:function(){var e=this.renderingListIndex;this.$set(this.renderingList[e],"isLoaded",!0)},error:function(){var e=this.renderingListIndex;this.$set(this.galleryData[e],"isError",!0)},close:function(){this.$emit("closeGallery",!1,this.activeIndex),this.setBodyScroll()},prev:Object(o.a)((function(){this.prevButtonVisible&&this.activeIndex--}),200),next:Object(o.a)((function(){this.nextButtonVisible&&this.activeIndex++}),200),zoom:function(e){e&&(this.isZoomed?this.zoomOut():this.zoomIn())},zoomIn:function(){this.isZoomed=!0},zoomOut:function(){this.isZoomed=!1},updateRenderingList:function(e){var t=this.galleryData.find((function(t){return t.id===e}));!this.renderingList.includes(t)&&this.renderingList.push(t)},normalizeGalleryData:function(e){var t=[];return e.forEach((function(e){var n=Object(r.a)(),o=Object.assign(e,{id:n});t.push(o)})),t},keydownHandler:function(e){this[{27:"close",37:"prev",39:"next"}[e.keyCode]]()}},mounted:function(){this.initGallery()},beforeDestroy:function(){this.setBodyScroll(),document.removeEventListener("keydown",this.keydownHandler)}},l=(n(1256),n(29)),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"gallery-wrap"},[r("div",{staticClass:"gallery-overlay"}),e._v(" "),r("div",{staticClass:"gallery-inner",class:{"control-hidden":e.isZoomed}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.prevButtonVisible,expression:"prevButtonVisible"}],staticClass:"control prev",on:{click:e.prev}}),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.nextButtonVisible,expression:"nextButtonVisible"}],staticClass:"control next",on:{click:e.next}}),e._v(" "),r("div",{staticClass:"control close",on:{click:e.close}},[r("svg",{staticClass:"close-icon",attrs:{viewBox:"0 0 15.4 15.4"}},[r("path",{staticClass:"close-path",attrs:{d:"M15.4 1.4L14 0 7.7 6.3 1.4 0 0 1.4l6.3 6.3L0 14l1.4 1.4 6.3-6.3 6.3 6.3 1.4-1.4-6.3-6.3z"}})])]),e._v(" "),r("div",{staticClass:"counter-bar-wrapper"},[r("div",{staticClass:"counter-bar"},[r("div",{staticClass:"counter-hinter"},[r("span",{staticClass:"current-index"},[e._v(e._s(e.activeIndex+1))]),e._v(" "),r("span",[e._v("/ "+e._s(e.list.length))])])])]),e._v(" "),r("div",{staticClass:"gallery-contents"},e._l(e.renderingList,(function(t){return r("div",{key:t.id},[r("transition",{attrs:{name:"fade"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.id===e.activeId,expression:"slide.id === activeId"}],staticClass:"slide",class:e.slideClass,on:{click:function(n){t.isLoaded&&e.zoom(t.isLong)}}},[r("img",{directives:[{name:"show",rawName:"v-show",value:t.isError,expression:"slide.isError"}],attrs:{src:n(1181)}}),e._v(" "),r("img",{directives:[{name:"show",rawName:"v-show",value:t.isLoaded,expression:"slide.isLoaded"}],staticClass:"slide-img",attrs:{src:e.getPriviewUrl(t.url)},on:{load:e.loaded,error:e.error}}),e._v(" "),r("carousel-loading",{directives:[{name:"show",rawName:"v-show",value:!t.isLoaded&&!t.isError,expression:"!slide.isLoaded && !slide.isError"}],staticClass:"loading"})],1)])],1)})),0)])])}),[],!1,null,"e5611d14",null);t.a=component.exports},1146:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return f})),n.d(t,"f",(function(){return v})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return x})),n.d(t,"h",(function(){return F}));n(80),n(71),n(136),n(30),n(46),n(145),n(51),n(243);var r=n(247);function o(e){e.preventDefault(),window.getSelection().deleteFromDocument&&window.getSelection().deleteFromDocument();try{var text=window.clipboardData.getData("Text");try{window.getSelection().createRange().pasteHTML(text)}catch(e){var t=document.createTextNode(text);window.getSelection().getRangeAt(0).insertNode(t)}}catch(t){var n=(e.originalEvent||e).clipboardData.getData("text/plain");document.execCommand("insertText",!1,n)}}function c(e){if(document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}else if(document.selection){var r=document.body.createTextRange();r.moveToElementText(e),r.collapse(!1),r.select()}}function l(){return"function"==typeof document.createRange||"function"==typeof window.getSelection}function d(){var e=null,t=null;return l?(t=document.getSelection()).getRangeAt&&t.rangeCount&&(e=document.getSelection().getRangeAt(0)):e=document.selection.createRange(),e}function f(html){var text=html;return text=text.replace(/<\s*script[^>]*>[\s\S]*?<\/script>/gim,"").replace(/<\s*style[^>]*>[\s\S]*?<\/style>/gim,"").replace(/<!--.*?-->/gim,"").replace(/<!DOCTYPE.*?>/gi,"").replace(/<\/div>/gi,"").replace(/(<br><div>|<div>|<br>)/gi,"\n").replace(/&nbsp;/gi,"").replace(/<.*?>/gi,"").replace(/&lt;/gi,"<").replace(/&amp;/gi,"&").replace(/&gt;/gi,">").replace(/&#39;/gi,"'").replace(/&quot;/g,'"')}function v(e,t){var n="",r=e.clipboardData.items;if(r){for(var i=0;i<r.length;i++)-1!=r[i].type.indexOf("image")&&(n=r[i].getAsFile());"function"==typeof t&&n&&t(n)}}function m(e){window.getSelection().deleteFromDocument&&window.getSelection().deleteFromDocument();try{return window.clipboardData.getData("Text")}catch(t){return(e.originalEvent||e).clipboardData.getData("text/plain")}}function h(e,html){var t,n,r=d();if(r&&function e(t,n){return!(!n||!t)&&(t===n||e(t,n.parentElement))}(e,r.startContainer)||c(e),e.focus(),window.getSelection){if((t=window.getSelection()).getRangeAt&&t.rangeCount){(n=t.getRangeAt(0)).deleteContents(),(e=document.createElement("div")).innerHTML=html;for(var o,l,f=document.createDocumentFragment();o=e.firstChild;)l=f.appendChild(o);n.insertNode(f),l&&((n=n.cloneRange()).setStartAfter(l),n.collapse(!0),t.removeAllRanges(),t.addRange(n))}}else document.selection&&"Control"!=document.selection.type&&document.selection.createRange().pasteHTML(html)}function x(e){var t=d(),n=t.startContainer;if(3===n.nodeType){for(var text=n.nodeValue,o=t.startOffset-1,c=t.endOffset-1,f=[];o>=0;){if("["===text[o]){f[0]=o;break}o--}for(;c<=text.length-1;){if("]"===text[c]){f[1]=c;break}c++}if(void 0!==f[0]&&void 0!==f[1]){var v=text.slice(f[0],f[1]+1),m=Object(r.d)(v);if(m){var x=document.createRange();x.setStart(n,f[0]),x.setEnd(n,f[1]+1),function(e){if(e){var t=null,n=null;l?((n=document.getSelection()).removeAllRanges(),n.addRange(e)):((t=document.selection.createRange()).setEndPoint("EndToEnd",e),0===e.text.length?t.collapse(!1):t.setEndPoint("StartToStart",e),t.select())}}(x),h(e,m)}}}}function F(content){var e;if(!content)return 0;var t,n,o=content.replace(r.a,(function(){return" o "})).replace(r.b,(function(){return" o "})),c=(n=/```mermaid(?:(?![])[\s\S])*?```?/g,t=(t=o).replace(n,""),n=/\$[\s\S]+?\$\$|\$[\s\S]+?\$/g,t=t.replace(n,""),n=/[\s\S]*\x2D\x2D\x2D\ntheme:[\s\S]*?\n\x2D\x2D\x2D/g,t=t.replace(n,""),n=/[\s\S]*\x2D\x2D\x2D\nhighlight:[\s\S]*?\n\x2D\x2D\x2D/g,t=t.replace(n,""),n=/<[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uFEFE\uFF00-\uFFFF]+?>/g,t=t.replace(n,(function(e){return e.toLowerCase()})),n=/<link[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uFEFE\uFF00-\uFFFF]+?<\/link>/g,t=t.replace(n,""),n=/<style[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uFEFE\uFF00-\uFFFF]+?<\/style>/g,t=t.replace(n,""),n=/<script[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uFEFE\uFF00-\uFFFF]+?<\/script>/g,t=t.replace(n,""),n=/<[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uFEFE\uFF00-\uFFFF][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+?>/g,t=t.replace(n,"\n"),n=/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]{2,}/g,t=t.replace(n,"\n"),n=/!\[.*\]\(http.*?\)/g,t=t.replace(n,""),n=new RegExp("((http|https):\\/\\/)?[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w.,@?^=%&:\\/~+#-]*[\\w@?^=%&\\/~+#-])?","gs"),t=t.replace(n,""),n=/<[^>\n\u4e00-\u9fff]*>/g,(t=t.replace(n,"")).trim()),l=new RegExp("[一-龿㐀-䶿぀-ゟ゠-ヿ]|[a-zA-Z]+|\\d","g"),d=c.match(l);return d&&(null==d?void 0:d.length)&&null!==(e=null==d?void 0:d.length)&&void 0!==e?e:0}},1157:function(e,t,n){},1181:function(e,t,n){e.exports=n.p+"4891f76395a92ddc73cb71cf555f49e0.svg"},1207:function(e,t,n){e.exports=n.p+"d460af1d9506ad49cc03903fc5d2de97.svg"},1208:function(e,t,n){e.exports=n.p+"9fc831d0e760589958834ed5d9185a5f.svg"},1209:function(e,t,n){e.exports=n.p+"a93eb981f13c8d482a9e95eaf09de453.svg"},1210:function(e,t,n){"use strict";n(1134)},1256:function(e,t,n){"use strict";n(1157)}}]);
//# sourceMappingURL=94009c4.js.map